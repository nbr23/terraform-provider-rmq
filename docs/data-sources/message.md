---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rmq_message Data Source - rmq"
subcategory: ""
description: |-
  Consume message_count messages from exchange.
  A temporary queue (either named queue_name, or queue_name_prefix+uuid()) and binds it to exchange using the specified routing key.
  Once message_count messages have been consumed successfully, the temporary queue is deleted.
---

# rmq_message (Data Source)

Consume `message_count` messages from `exchange`.
A temporary queue (either named `queue_name`, or `queue_name_prefix+uuid()`) and binds it to `exchange` using the specified routing key.
Once `message_count` messages have been consumed successfully, the temporary queue is deleted.

## Example Usage

```terraform
terraform {
  required_providers {
    rmq = {
      source = "registry.terraform.io/nbr23/rmq"
    }
  }
}

provider "rmq" {
  uri = "amqp://guest:guest@localhost:5672/"
}


data "rmq_message" "msg" {
  routing_key       = "#"
  exchange          = "test-exchange"
  ack               = true
  message_count     = 1
  queue_name_prefix = "temp-queue-"
}

output "message" {
  value = data.rmq_message.msg
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `ack` (Boolean) Whether to acknowledge consumed messages
- `exchange` (String) Exchange to bind and consume from
- `message_count` (Number) Number of messages to consume
- `routing_key` (String) Routing key to bind to the exchange

### Optional

- `queue_name` (String) Name of the temporary queue to create for message consumption
- `queue_name_prefix` (String) Name prefix of the temporary queue to create for message consumption
- `timeout` (String) Timeout for consuming messages (default: 20m)

### Read-Only

- `messages` (Attributes List) (see [below for nested schema](#nestedatt--messages))

<a id="nestedatt--messages"></a>
### Nested Schema for `messages`

Read-Only:

- `app_id` (String)
- `body` (String)
- `content_encoding` (String)
- `content_type` (String)
- `correlation_id` (String)
- `delivery_mode` (Number)
- `headers` (Map of String)
- `priority` (Number)
- `reply_to` (String)
- `routing_key` (String)
- `timestamp` (Number)
- `type` (String)
- `user_id` (String)
